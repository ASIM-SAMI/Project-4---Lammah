(this.webpackJsonplammah=this.webpackJsonplammah||[]).push([[0],{127:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(33),s=a.n(i),r=(a(127),a(6)),l={development:"http://localhost:".concat(5e3),production:"https://projcet4-lammah.herokuapp.com"},o="localhost"===window.location.hostname?l.development:l.production,j=a(10),d=a(11),b=(a(38),a(267)),h=a(268),m=a(116),x=a(274),O=a(269),u=a(270),f=a(9),p=a.n(f),g=a(8),y=a(15),v=a(1),C=y.a({name:y.c().required("This Field is Reqiured"),email:y.c().required(" This Field is Reqiured!!").email("example@example.com"),phone:y.c().required("This Field is Reqiured!!").min(10,"must be 10 numbers ").max(10),password:y.c().required("Please Enter your password").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character"),confirmPassword:y.c().required().oneOf([y.b("password"),null],"Passwords not match")});function N(){var e=Object(d.e)(),t=Object(c.useState)(!0),a=Object(r.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)({name:"",email:"",password:"",phone:""}),l=Object(r.a)(s,2),j=l[0];l[1];return Object(v.jsxs)(v.Fragment,{children:[!n&&Object(v.jsx)(b.a,{variant:"danger",children:"The email is already in use. Please change the email"}),Object(v.jsx)(g.d,{initialValues:j,validationSchema:C,onSubmit:function(t){return function(t){p.a.post("".concat(o,"/api/user/register"),t).then((function(t){t.data.user?e.push("/"):setTimeout((function(){i(!1)}),3e3)})).catch((function(e){return console.log(e)}))}(t)},children:Object(v.jsx)(h.a,{className:"justify-content-center  pt-5",style:{width:"70%",padding:"270px"},children:Object(v.jsxs)(g.c,{className:"mt-5",children:[Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextName",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Name"}),Object(v.jsx)(x.a.Control,{as:g.b,placeholder:"First name",name:"name"}),Object(v.jsx)(g.a,{name:"name",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextPhone",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Phone Number"}),Object(v.jsx)(x.a.Control,{as:g.b,name:"phone",placeholder:"05XXXXXXXX"}),Object(v.jsx)(g.a,{name:"phone",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextEmail",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Email"}),Object(v.jsx)(x.a.Control,{as:g.b,type:"email",placeholder:"Enter email",name:"email"}),Object(v.jsx)(g.a,{name:"email",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextPassword",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Password"}),Object(v.jsx)(x.a.Control,{as:g.b,name:"password",type:"password",placeholder:"Password"}),Object(v.jsx)(g.a,{name:"password",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextPassword",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Confirm Password"}),Object(v.jsx)(x.a.Control,{as:g.b,name:"confirmPassword",type:"password",placeholder:"Password"}),Object(v.jsx)(g.a,{name:"confirmPassword",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]})]}),Object(v.jsx)(u.a,{type:"submit",style:{fontFamily:"serif",marginLeft:"140px"},variant:"secondary",active:!0,children:"SignUp"})]})})})]})}var F=a(20),w=y.a({name:y.c().required(" Facility name is required "),city:y.c().required("You must choose one "),type:y.c().required("You must choose one "),price:y.c().required("Facility price is required ")});function S(e){var t,a=e.auth.currentUser._id,n=Object(d.e)(),i=Object(c.useState)(""),s=Object(r.a)(i,2),l=s[0],j=s[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"NewFacility",children:Object(v.jsx)(h.a,(t={className:"justify-content-center"},Object(F.a)(t,"className"," pt-5"),Object(F.a)(t,"style",{height:"1000px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:"10% 10% 1050px 10%",margin:"50px auto 400px auto",maxWidth:"700px"}),Object(F.a)(t,"children",Object(v.jsx)(m.a,{children:Object(v.jsx)(g.d,{initialValues:{name:"",description:"",location:"",city:"",price:"",type:"",images:l,userId:a},validationSchema:w,onSubmit:function(e){return function(e){p.a.post("".concat(o,"/facility/new-facility"),e).then((function(e){console.log(e),n.push("/facilities"),alert("Wait for our confirmation to add your facility.Tank You !!")})).catch((function(e){return console.log(e)}))}(e)},children:Object(v.jsxs)(x.a,{as:g.c,className:"form",children:[Object(v.jsx)(x.a.Group,{as:O.a,controlId:"formPlaintextName",children:Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold",fontSize:"25px",textAlign:"center"},sm:"2",children:"Facility Information :"})}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextName",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Name"}),Object(v.jsx)(x.a.Control,{as:g.b,placeholder:"Facility Name",name:"name",type:"text"})]}),Object(v.jsx)(g.a,{name:"name",render:function(e){return Object(v.jsxs)(b.a,{variant:"danger",children:[" ",e," "]})}}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextName",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Images"}),Object(v.jsx)(x.a.Control,{type:"file",multiple:!0,name:"images",onChange:function(e){console.log(e.target.files[0]);var t=new FormData;t.append("image",e.target.files[0]),p.a.post("https://api.imgur.com/3/image/",t,{headers:{Authorization:"Client-ID c5d679f9edcd982"}}).then((function(e){console.log(e),j(e.data.data.link)}))}}),Object(v.jsx)(x.a.Control,{as:g.b,placeholder:"www.image.com",name:"images",type:"text",style:{marginTop:"5%"}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextNameLocation",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Location"}),Object(v.jsx)(x.a.Control,{as:g.b,placeholder:"Add Location Link",name:"location",type:"text"})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextCity",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold",minWidth:"100%"},sm:"2",children:"City"}),Object(v.jsxs)(g.b,{size:"mm",as:"select",name:"city",children:[Object(v.jsx)("option",{children:"Choose City"}),Object(v.jsx)("option",{children:"Riyadh"}),Object(v.jsx)("option",{children:"Jeddah"}),Object(v.jsx)("option",{children:"Dammam"})]})]}),Object(v.jsx)(g.a,{name:"city",render:function(e){return Object(v.jsxs)(b.a,{variant:"danger",children:[" ",e," "]})}}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextType",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold",minWidth:"100%"},sm:"2",children:"Type"}),Object(v.jsxs)(g.b,{as:"select",name:"type",children:[Object(v.jsx)("option",{children:"Choose one"}),Object(v.jsx)("option",{children:"Chalet"}),Object(v.jsx)("option",{children:"Camp"})]})]}),Object(v.jsx)(g.a,{name:"type",render:function(e){return Object(v.jsxs)(b.a,{variant:"danger",children:[" ",e," "]})}}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextPrice",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Price"}),Object(v.jsx)(x.a.Control,{as:g.b,placeholder:"SR",name:"price",type:"text"})]}),Object(v.jsx)(g.a,{name:"price",render:function(e){return Object(v.jsxs)(b.a,{variant:"danger",children:[" ",e," "]})}}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"ControlDesciption",children:[Object(v.jsx)(x.a.Label,{style:{fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Desciption"}),Object(v.jsx)(g.b,{as:"textarea",cols:70,rows:10,name:"description",style:{minWidth:"100%"}})]}),Object(v.jsx)(O.a,{children:Object(v.jsx)(u.a,{style:{fontFamily:"serif",margin:"50px auto 50px auto"},variant:"secondary",type:"submit",children:"Submite"})})]})})})),t))})})}function k(e){return Object(v.jsx)(v.Fragment,{})}var I=a(117),T=a(276);function L(e){var t=Object(c.useState)([]),a=Object(r.a)(t,2),n=a[0],i=a[1];Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/facility/facilities")).then((function(e){i(e.data.facilities)}))}),[]);var s=n.map((function(t,a){if(1==t.status)return Object(v.jsx)(j.b,{onClick:function(){return e.setSelectFacility(t)},to:"/facilities/".concat(t._id),style:{textDecoration:"none"},children:Object(v.jsxs)(T.a,{className:"facility-card",children:[Object(v.jsx)(T.a.Img,{variant:"top",style:{height:"100%",objectFit:"cover",objectPosition:"50% 50%"},src:t.images}),Object(v.jsx)(T.a.Title,{style:{position:"absolute",bottom:"20%",color:"white",padding:"0 5% 0 5%",width:"70%",backgroundColor:"rgba(0, 0, 0, 0.623)",fontWeight:"bold",fontSize:"1.3em",maxHeight:"50px",overflow:"hidden"},children:t.name}),Object(v.jsx)(T.a.Text,{style:{position:"absolute",bottom:"10%",color:"white",padding:"0 5% 0 5%",backgroundColor:"rgba(0, 0, 0, 0.623)",fontWeight:"bold",fontSize:"0.9em"},children:t.city}),Object(v.jsxs)("small",{style:{position:"absolute",bottom:"3%",color:"white",padding:"0 5% 0 5%",backgroundColor:"rgba(255, 0, 0, 0.623)",fontWeight:"bold",fontSize:"1.5em"},children:[t.price," SR"]})]})},a)}));return Object(v.jsx)("div",{className:"Facilities",children:Object(v.jsx)(h.a,{className:"container",children:Object(v.jsx)(O.a,{className:"justify-content-md-center facility-row",children:Object(v.jsx)(m.a,{className:"facility-col",style:{justifyContent:"center"},children:s})})})})}function P(e){return Object(v.jsx)("div",{className:"header",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{style:{color:"white"},children:"DCRP...."})})})}function W(){return Object(v.jsxs)("div",{className:"section",children:[Object(v.jsxs)("div",{className:"top-facilities",children:[Object(v.jsxs)("div",{className:"tf-title",children:[Object(v.jsx)("h1",{children:"TOP FACILITIES"}),Object(v.jsx)("h2",{style:{color:"gray",fontSize:"1em"},children:"THIS Month"})]}),Object(v.jsx)("div",{className:"tf-description",children:Object(v.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum beatae possimus saepe sequi accusantium, repellat, iusto similique blanditiis asperiores, doloremque qui. Deleniti obcaecati, quos amet aperiam hic doloribus laboriosam recusandae."})})]}),Object(v.jsxs)("div",{className:"tf-items",children:[Object(v.jsx)("div",{className:"item1",children:Object(v.jsx)("img",{src:"https://q-xx.bstatic.com/images/hotel/max1024x768/265/265080438.jpg"})}),Object(v.jsx)("div",{className:"item2",children:Object(v.jsx)("img",{src:"https://mostaql.hsoubcdn.com/uploads/thumbnails/621911/5f83610450284/1.jpg"})}),Object(v.jsx)("div",{className:"item3",children:Object(v.jsx)("img",{src:"https://cf.bstatic.com/images/hotel/max1024x768/236/236605809.jpg"})}),Object(v.jsx)("div",{className:"item4",children:Object(v.jsx)("img",{src:"https://cf.bstatic.com/images/hotel/max1024x768/257/257562657.jpg"})})]})]})}var E=function(e){return Object(v.jsxs)("div",{className:"Home",children:[Object(v.jsx)(P,{loginCallback:e.loginCallback,auth:e.auth}),Object(v.jsx)(W,{})]})},A=a(29),U=a(271),_=a(273),B=a(272),q=a(118),G=a.n(q);function D(e){var t=Object(c.useState)(!1),a=Object(r.a)(t,2),n=a[0],i=a[1],s=function(){return i(!1)},l=e.apointmentsDate;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m.a,{className:"mt-5 m-0 ",style:{left:"80px",width:"1000px"},children:Object(v.jsx)(T.a,{className:"ml-5",style:{width:"900px"},children:Object(v.jsxs)(O.a,{style:{height:"100%"},children:[Object(v.jsx)(m.a,{xs:6,md:5,children:Object(v.jsx)(T.a.Img,{style:{width:"100%"},variant:"top",src:e.facilityImage})}),Object(v.jsx)(m.a,{style:{width:"300px",left:"150px"},className:"pl-5 mt-2",children:Object(v.jsxs)(T.a.Body,{children:[Object(v.jsxs)(O.a,{style:{height:"100%"},children:[Object(v.jsx)(m.a,{className:"pr-5",style:{width:"200px",left:"-200px"},children:Object(v.jsxs)(T.a.Text,{children:[Object(v.jsx)("h6",{children:"  Facility Name :"}),e.facilityName]})}),Object(v.jsx)(m.a,{style:{width:"500px",left:"-200px"},children:Object(v.jsxs)(T.a.Text,{children:[Object(v.jsx)("h6",{children:"  Date :"}),Object(v.jsx)(G.a,{date:l})]})})]}),Object(v.jsxs)(O.a,{className:"pt-3",style:{height:"100%"},children:[Object(v.jsx)(m.a,{className:"pr-0",style:{width:"200px",left:"-200px"},children:Object(v.jsxs)(T.a.Text,{children:[Object(v.jsx)("h6",{children:"Apointment ID:"}),"  ",e.apointmentId]})}),Object(v.jsx)(m.a,{className:"pt-1",style:{left:"-175px"},children:Object(v.jsx)(T.a.Text,{children:Object(v.jsxs)("h6",{children:["  status :  ",e.status]})})})]}),"waiting"==e.status?Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)(u.a,{style:{marginLeft:"200px"},variant:"danger",onClick:function(){return i(!0)},children:" delete  "})," "]}):Object(v.jsx)(v.Fragment,{})]})})]})})}),Object(v.jsxs)(_.a,{show:n,onHide:s,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{children:"Modal title"})}),Object(v.jsx)(_.a.Body,{children:"Are You Sure Want To Cancel This Appointment ?"}),Object(v.jsxs)(_.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:s,children:"No"}),Object(v.jsx)(u.a,{variant:"primary",onClick:function(){var t;t=e.apointmentId,p.a.delete("".concat(o,"/api/appointment/").concat(t,"/").concat(e.facilityId)).then(),i(!1)},children:"Yes Cancel It"})]})]})]})}function R(e){var t=Object(d.e)(),a=e.auth.currentUser._id,n=Object(c.useState)({}),i=Object(r.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)({}),b=Object(r.a)(j,2),f=b[0],g=b[1],y=Object(c.useState)([]),C=Object(r.a)(y,2),N=C[0],w=C[1],S=Object(c.useState)(!1),k=Object(r.a)(S,2),I=k[0],T=k[1],L=function(){return T(!1)};Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/user/my-page/").concat(a)).then((function(e){l(e.data.user_info),g(e.data.user_info),w(e.data.appointments)}))}),[]);var P=function(e){e.preventDefault(),g((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(F.a)({},e.target.name,e.target.value))}))},W=N.map((function(e,t){return Object(v.jsx)(D,{apointmentsDate:e.date,status:e.status,apointmentId:e._id,facilityName:e.facility.name,facilityImage:e.facility.images,facilityId:e.facility._id})}));return Object(v.jsx)(v.Fragment,{children:e.auth.isLoggedIn?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.a,{className:"pt-5",children:[Object(v.jsxs)(O.a,{style:{},children:[Object(v.jsx)(m.a,{xs:4,xl:3,md:4,style:{maxWidth:"150px"},children:Object(v.jsx)(U.a,{src:"",width:"100%"})}),Object(v.jsxs)(m.a,{xs:4,xl:6,md:4,style:{},children:[Object(v.jsxs)("h4",{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},children:[" Name :  ",s.name,"  "]}),Object(v.jsxs)("h4",{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},children:[" Email :  ",s.email," "]}),Object(v.jsxs)("h4",{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},children:[" Phone :  ",s.phone," "]})]}),Object(v.jsx)(m.a,{className:"pt-5",style:{position:"relative",right:"0",maxWidth:"100px",paddingBottom:"0"},children:Object(v.jsx)(u.a,{onClick:function(){return T(!0)},variant:"white",style:{position:"relative",top:"0",margin:"0",padding:"0",width:"100%"},children:Object(v.jsx)(B.a,{color:"",size:30})})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(O.a,{className:"justify-content-md-center",children:Object(v.jsx)("h1",{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},children:" All Apointments "})}),Object(v.jsx)(O.a,{children:W})]}),Object(v.jsxs)(_.a,{show:I,onHide:L,children:[Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{style:{fontSize:"23px",color:"black",fontFamily:"serif",fontWeight:"bold"},children:"Edit Your Information"})}),Object(v.jsxs)(_.a.Body,{children:[Object(v.jsxs)(x.a.Group,{as:m.a,children:[Object(v.jsx)("h4",{style:{fontSize:"23px",color:"black",fontFamily:"serif",fontWeight:"bold"},children:" Name : "}),Object(v.jsx)(x.a.Control,{name:"name",onChange:function(e){return P(e)},defaultValue:s.name,type:"text"})]}),Object(v.jsxs)(x.a.Group,{as:m.a,children:[Object(v.jsx)("h4",{style:{fontSize:"23px",color:"black",fontFamily:"serif",fontWeight:"bold"},children:" Email : "}),Object(v.jsx)(x.a.Control,{name:"email",onChange:function(e){return P(e)},defaultValue:s.email,type:"text"})]}),Object(v.jsxs)(x.a.Group,{as:m.a,children:[Object(v.jsx)("h4",{style:{fontSize:"23px",color:"black",fontFamily:"serif",fontWeight:"bold"},children:" Phone : "}),Object(v.jsx)(x.a.Control,{name:"phone",onChange:function(e){return P(e)},defaultValue:s.phone,type:"text"})]})]}),Object(v.jsxs)(_.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:L,children:"Close"}),Object(v.jsx)(u.a,{variant:"secondary",onClick:function(e){return p.a.put("".concat(o,"/api/user/").concat(a),f).then((function(e){return console.log("from backend i recieved ",e)})),void T(!1)},children:"Save Changes"})]})]})]}):Object(v.jsx)(v.Fragment,{children:t.push("/")})})}var H=a(275);function z(e){var t=Object(d.e)(),a=Object(c.useState)(!1),n=Object(r.a)(a,2),i=n[0],s=n[1];function l(){s(!1)}var j=Object(c.useState)(!1),b=Object(r.a)(j,2),h=b[0],m=b[1];function x(){m(!1)}var O=Object(c.useState)({name:e.facility.name,description:e.facility.description,images:e.facility.images,location:e.facility.location,price:e.facility.price}),f=Object(r.a)(O,2),g=f[0],y=f[1],C=function(e){var t=e.target,a=t.name,c=t.value;y(Object(A.a)(Object(A.a)({},g),{},Object(F.a)({},a,c)))};return Object(v.jsx)("div",{children:Object(v.jsx)(H.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(T.a.Header,{children:Object(v.jsx)(H.a.Toggle,{as:u.a,variant:"link",eventKey:"i",children:e.facility.name})}),Object(v.jsx)(H.a.Collapse,{eventKey:"i",className:"card-container",children:Object(v.jsxs)(T.a.Body,{className:"card-body ",children:[Object(v.jsx)(T.a.Img,{variant:"null",src:e.facility.images}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsxs)(T.a.Text,{children:[" ",e.facility.description," "]}),Object(v.jsxs)(T.a.Text,{children:[" ",e.facility.location," "]}),Object(v.jsxs)(T.a.Text,{children:[" ",e.facility.city," "]}),Object(v.jsxs)(T.a.Text,{children:[" ",e.facility.price," SR"]})]}),Object(v.jsxs)("div",{className:"card-btns",children:[Object(v.jsx)(u.a,{variant:"success",onClick:function(){return s(!0)},children:"Edit"}),Object(v.jsx)(u.a,{variant:"danger",onClick:function(){return m(!0)},children:"Delete"})]}),Object(v.jsxs)(_.a,{size:"lg",show:i,onHide:l,children:[Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{children:"Edit Facility"})}),Object(v.jsxs)(_.a.Body,{children:["Name:  ",Object(v.jsx)("input",{type:"text",name:"name",size:"80",defaultValue:e.facility.name,onChange:function(e){return C(e)}})," ",Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),"Description: ",Object(v.jsx)("textarea",{rows:"8",cols:"80",type:"text",name:"description",defaultValue:e.facility.description,onChange:function(e){return C(e)}})," ",Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),"Location: ",Object(v.jsx)("input",{type:"text",name:"location",size:"80",defaultValue:e.facility.location,onChange:function(e){return C(e)}})," ",Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),"Price: ",Object(v.jsx)("input",{type:"text",name:"price",size:"80",defaultValue:e.facility.price,onChange:function(e){return C(e)}})," ",Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),"Photos: ",Object(v.jsx)("input",{type:"text",size:"80",name:"images",defaultValue:e.facility.images,onChange:function(e){return C(e)}})]}),Object(v.jsxs)(_.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:l,children:"Close"}),Object(v.jsx)(u.a,{variant:"primary",onClick:function(){var t;t=e.facility._id,p.a.put("".concat(o,"/api/facility/").concat(t,"/edit"),g).then((function(t){console.log("update facility"),e.setAfterUpdateFacility(!e.afterUpdateFacility)})),l()},children:"Edit"})]})]}),Object(v.jsxs)(_.a,{show:h,onHide:x,children:[Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{children:"Confirm Delete"})}),Object(v.jsx)(_.a.Body,{children:"Are you sure you want to delete this facility"}),Object(v.jsxs)(_.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:x,children:"Close"}),Object(v.jsx)(u.a,{variant:"primary",onClick:function(){var a;a=e.facility._id,p.a.delete("".concat(o,"/api/facility/").concat(a)).then((function(e){t.push("/manage-brand")})),x()},children:"Delete"})]})]})]})})]})})})}function Y(e){var t=e.auth.currentUser._id,a=Object(c.useState)([]),n=Object(r.a)(a,2),i=n[0],s=n[1];Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/user/manage-brand/").concat(t)).then((function(e){s(e.data.facilities)}))}),[]);var l=i.map((function(t,a){return Object(v.jsx)(z,{facility:t,auth:e.auth,afterUpdateFacility:e.afterUpdateFacility,setAfterUpdateFacility:e.setAfterUpdateFacility},a)}));return Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Your Facilities:"}),l]})}var V=a(120);function X(e){var t=e.auth.currentUser._id,a=Object(c.useState)([]),n=Object(r.a)(a,2),i=(n[0],n[1]),s=Object(c.useState)(!1),l=Object(r.a)(s,2),j=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(r.a)(b,2),m=h[0],x=h[1];return Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/user/manage-brand/").concat(t)).then((function(e){i(e.data.facilities)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Recent Appointement:"}),Object(v.jsx)(u.a,{onClick:function(){return d(!j)},"aria-controls":"example-collapse-text","aria-expanded":j,children:"Facility Name"}),Object(v.jsx)(V.a,{in:j,children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:["User name",Object(v.jsx)("br",{}),"Contact info."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{variant:"success",children:"Confirm"}),Object(v.jsx)(u.a,{variant:"danger",children:"Cancel"})]}),Object(v.jsxs)("div",{children:["User name",Object(v.jsx)("br",{}),"Contact info."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{variant:"success",children:"Confirm"}),Object(v.jsx)(u.a,{variant:"danger",children:"Cancel"})]})]})}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)(u.a,{onClick:function(){return x(!m)},"aria-controls":"example-collapse-text","aria-expanded":j,children:"Facility Name"}),Object(v.jsx)(V.a,{in:m,children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:["User name",Object(v.jsx)("br",{}),"Contact info."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{variant:"success",children:"Confirm"}),Object(v.jsx)(u.a,{variant:"danger",children:"Cancel"})]}),Object(v.jsxs)("div",{children:["User name",Object(v.jsx)("br",{}),"Contact info."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{variant:"success",children:"Confirm"}),Object(v.jsx)(u.a,{variant:"danger",children:"Cancel"})]})]})}),Object(v.jsx)("br",{})]})}function M(e){var t=e.auth.currentUser._id,a=Object(c.useState)([]),n=Object(r.a)(a,2),i=(n[0],n[1]),s=Object(c.useState)(!1),l=Object(r.a)(s,2),j=l[0],b=l[1],h=Object(d.e)();return Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/user/manage-brand/").concat(t)).then((function(e){i(e.data.facilities),h.push("/manage-brand")}))}),[j]),Object(v.jsx)(v.Fragment,{children:e.auth.isLoggedIn?Object(v.jsxs)("div",{className:"ManageBrand",children:[Object(v.jsx)("h1",{children:"Reservation Management"}),Object(v.jsx)("hr",{}),Object(v.jsx)(X,{auth:e.auth}),Object(v.jsx)("br",{}),Object(v.jsx)(Y,{auth:e.auth,afterUpdateFacility:j,setAfterUpdateFacility:b}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{children:"Confirmed Reservations:"}),Object(v.jsxs)(T.a,{className:"card-container",children:[Object(v.jsx)(T.a.Header,{as:"h5",children:"Facility Name"}),Object(v.jsxs)(T.a.Body,{className:"card-body",children:[Object(v.jsx)(T.a.Img,{variant:"null",src:"https://cf.bstatic.com/images/hotel/max1024x768/220/220546381.jpg"}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)(T.a.Title,{children:"User name"}),Object(v.jsx)(T.a.Text,{children:" Appointement date "}),Object(v.jsx)(T.a.Text,{children:" User phone "})]})]})]})]}):Object(v.jsx)(v.Fragment,{children:h.push("/")})})}var K=a(122);a(254);function J(e){var t=Object(c.useState)(new Date),a=Object(r.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)(!1),l=Object(r.a)(s,2),j=l[0],b=l[1],x=Object(d.f)().id,f=Object(c.useState)({}),g=Object(r.a)(f,2),y=g[0],C=(g[1],Object(c.useState)(e.selectFacility)),N=Object(r.a)(C,2),F=N[0],w=N[1],S=Object(c.useState)({}),k=Object(r.a)(S,2),I=k[0],T=k[1],L=Object(c.useState)(e.auth.currentUser._id),P=Object(r.a)(L,2),W=P[0],E=(P[1],F.name),A=F.images,U=F.location,B=F.description,q=F.city,G=F.price,D=F.type,R=(F.appointment,function(){return b(!1)});Object(c.useEffect)((function(){q||p.a.get("".concat(o,"/api/facility/facilities/?=").concat(x)).then((function(e){console.log("from one facility"+e.data);e.data.find((function(e){return e._id==x}));w(y)}))}),[]);return Object(v.jsx)("div",{className:"OneFacility",children:Object(v.jsxs)(h.a,{style:{marginTop:"10%",marginBottom:"500px"},children:[Object(v.jsxs)(O.a,{children:[Object(v.jsxs)(m.a,{"col-md-3":!0,style:{maxWidth:"100px",minWidth:"100px",marginBottom:"8%"},children:[Object(v.jsx)(O.a,{children:Object(v.jsx)("img",{className:"smallIMG",src:"https://pbs.twimg.com/media/C066sxKXEAAUV2t.jpg",alt:"",srcset:""})}),Object(v.jsx)(O.a,{children:Object(v.jsx)("img",{className:"smallIMG",src:"https://pbs.twimg.com/media/C066sxKXEAAUV2t.jpg",alt:"",srcset:""})}),Object(v.jsx)(O.a,{children:Object(v.jsx)("img",{className:"smallIMG",src:"https://pbs.twimg.com/media/C066sxKXEAAUV2t.jpg",alt:"",srcset:""})})]}),Object(v.jsx)(m.a,{"col-md-6":!0,style:{minWidth:"300px",maxWidth:"500px",padding:"0",width:"100%"},children:Object(v.jsx)("img",{className:"mainIMG",src:A,alt:"",srcset:"",style:{width:"100%",marginBottom:"10%"}})}),Object(v.jsxs)(m.a,{"col-md-3":!0,style:{minWidth:"250px",maxWidth:"500px",padding:"0 2% 2% 2%",margin:"0 2% 2% 2%",width:"100%"},children:[Object(v.jsxs)("h1",{children:[" ",E," "]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:["Faclity: ",D," "]}),Object(v.jsxs)("p",{children:["City: ",q]}),Object(v.jsxs)("p",{children:["location:",Object(v.jsxs)("a",{href:"#",children:[" ",U]})]}),Object(v.jsxs)("p",{children:["Price: ",G," SR"]}),Object(v.jsx)("button",{onClick:function(){b(!0),T({date:n,facility:F,status:"waiting",userId:W})},children:"Book"}),Object(v.jsxs)(_.a,{show:j,onHide:R,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{})}),Object(v.jsxs)(_.a.Body,{children:[Object(v.jsx)(K.a,{onChange:function(e){i(e),T({date:e,facility:F,status:"waiting",userId:W})},value:n}),Object(v.jsxs)("p",{children:["  ",n.toString()," "]})]}),Object(v.jsxs)(_.a.Footer,{children:[Object(v.jsx)(u.a,{variant:"secondary",onClick:function(){p.a.post("".concat(o,"/api/appointment/new-appointment"),I).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),b(!1)},children:"Book"}),Object(v.jsx)(u.a,{variant:"secondary",onClick:R,children:"Close"})]})]})]})]}),Object(v.jsx)("hr",{style:{marginTop:"100px",width:"100%"}}),Object(v.jsx)(O.a,{children:Object(v.jsxs)("p",{style:{padding:"3%",width:"100%",maxWidth:"90%",overflow:"hidden",wordWrap:"break-word"},children:[" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat nostrum autem adipisci similique, sed nihil corrupti labore nisi beatae perferendis dolor quisquam dolore vitae accusamus non omnis officiis unde! Quis.",B," "]})})]})})}var $=a(121),Z=a.n($);function Q(e){var t=Object(c.useState)([]),a=Object(r.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)([]),l=Object(r.a)(s,2),d=l[0],b=l[1],h=Object(c.useState)(!1),m=Object(r.a)(h,2),x=m[0],O=m[1];Object(c.useEffect)((function(){p.a.get("".concat(o,"/api/facility/facilities")).then((function(e){i(e.data.facilities)})),p.a.get("".concat(o,"/api/admin/users")).then((function(e){console.log("api admin users "+e.data),b(e.data.msg)}))}),[x]);var u=function(e){var t=e._id;p.a.delete("".concat(o,"/api/admin/").concat(t,"/deleteFacility")).then((function(e){O(!x)}))},f=n.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"content-container",children:[Object(v.jsx)("img",{src:e.images[0],alt:""}),Object(v.jsx)("h5",{className:"container-title",children:e.name}),Object(v.jsx)("p",{className:"admin-delete-btn",onClick:function(){return u(e)},children:"X"})]})})})),g=d.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"content-container",children:[Object(v.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",alt:""}),Object(v.jsxs)("h5",{className:"container-title",children:["Name: ",e.name,", Email: ",e.email,", "]}),Object(v.jsx)("p",{style:{marginTop:"12px",float:"left",marginRight:"10px",fontSize:"18px"},children:"Admin: "}),Object(v.jsx)(Z.a,{checked:e.isAdmin,onlabel:"Yes",offlabel:"NO",onChange:function(t){return function(e,t){var a=t.isAdmin;(0==e&&1==a||1==e&&0==a)&&p.a.put("".concat(o,"/api/admin/").concat(t._id),{isAdmin:a}).then((function(e){console.log(e)}))}(t,e)}}),Object(v.jsx)("p",{className:"admin-delete-btn",onClick:function(){return function(e){var t=e._id;p.a.delete("".concat(o,"/api/admin/").concat(t,"/deleteuser")).then((function(e){O(!x)}))}(e)},children:"X"})]})})})),y=n.filter((function(e){return 0==e.status})).map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"content-container",children:[Object(v.jsx)("img",{src:e.images[0],alt:""}),Object(v.jsx)("h5",{className:"container-title",children:e.name}),Object(v.jsx)("p",{className:"admin-confirm-btn",onClick:function(){return function(e){var t=e._id;p.a.put("".concat(o,"/api/admin/").concat(t,"/status")).then((function(e){O(!x)}))}(e)},children:"\u2714"}),Object(v.jsx)("p",{className:"admin-delete-btn",onClick:function(){return u(e)},children:"X"})]})})}));return e.auth.isLoggedIn?e.auth.currentUser.isAdmin?Object(v.jsxs)("div",{className:"dashboard-container ",children:[Object(v.jsx)("h1",{children:"Facilities"}),Object(v.jsx)("div",{className:"admin-container",children:f})," ",Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"Users"}),Object(v.jsx)("div",{className:"admin-container",children:g}),Object(v.jsx)("h1",{children:"Confirm addition of facility"}),Object(v.jsx)("div",{className:"admin-container",children:y})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{class:"alert alert-warning",role:"alert",children:[Object(v.jsx)("strong",{children:"Oh !!!"})," ",Object(v.jsx)(j.b,{to:"/",class:"alert-link",children:"You dont have permission"}),"  to access this page."]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{class:"alert alert-danger",role:"alert",children:[Object(v.jsx)("strong",{children:"Oh !!!"})," ",Object(v.jsx)(j.b,{to:"/login",class:"alert-link",children:"You have to login first"})," and try submitting again."]})})}a(257),a(258),a(259),a(260),a(261);var ee=y.a({email:y.c().required(" Enter your email "),password:y.c().required(" Enter password ")}),te=function(e){var t=Object(d.e)(),a=Object(c.useState)(!1),n=Object(r.a)(a,2),i=n[0],s=n[1],l=Object(c.useState)({email:"",password:""}),f=Object(r.a)(l,2),y=f[0],C=f[1],N=Object(c.useState)(!0),w=Object(r.a)(N,2),S=w[0],k=w[1],I=function(){return s(!1)},T=function(e){var t=e.target,a=t.name,c=t.value;C(Object(A.a)(Object(A.a)({},y),{},Object(F.a)({},a,c)))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"NavBar",children:[Object(v.jsx)(j.b,{to:"/",className:"logo menu-element",children:"LAMMAH"}),Object(v.jsxs)("div",{className:"menu",children:[Object(v.jsx)(j.b,{to:"/facilities",className:"menu-element",children:"FACILITIES"}),e.auth.isLoggedIn?Object(v.jsx)(j.b,{to:"/manage-brand",className:"menu-element",children:"BRAND"}):Object(v.jsx)(v.Fragment,{}),e.auth.isLoggedIn?Object(v.jsx)(j.b,{to:"/my-page",className:"menu-element",children:"MY PAGE"}):Object(v.jsx)(v.Fragment,{}),e.auth.isLoggedIn?Object(v.jsx)(j.b,{to:"/new-facility",className:"menu-element",children:"NEW FACILITY"}):Object(v.jsx)(v.Fragment,{}),e.auth.isLoggedIn?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(j.b,{className:"menu-element",onClick:function(){s(!0),e.loginCallback()},children:"LOGIN"}),console.log(e.auth),e.auth.isLoggedIn?Object(v.jsx)(j.b,{className:"menu-element",style:{color:"black"},onClick:function(){localStorage.removeItem("jwtToken"),e.loginCallback(),t.push("/")},children:"LOGOUT"}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_.a,{show:i,onHide:I,backdrop:"static",keyboard:!1,children:[!S&&Object(v.jsx)(b.a,{variant:"danger",children:"Your email or password is wrong"}),Object(v.jsx)(_.a.Header,{closeButton:!0,children:Object(v.jsx)(_.a.Title,{children:"Login"})}),Object(v.jsx)(_.a.Body,{children:Object(v.jsx)(g.d,{validationSchema:ee,children:Object(v.jsx)(h.a,{children:Object(v.jsxs)(g.c,{children:[Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextEmail",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Email"}),Object(v.jsx)(x.a.Control,{as:g.b,name:"email",onChange:function(e){return T(e)},placeholder:"email@example.com"}),Object(v.jsx)(g.a,{name:"email",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsxs)(x.a.Group,{as:O.a,controlId:"formPlaintextPassword",children:[Object(v.jsx)(x.a.Label,{style:{color:"black",fontFamily:"serif",fontWeight:"bold"},sm:"2",children:"Password"}),Object(v.jsx)(x.a.Control,{as:g.b,name:"password",onChange:function(e){return T(e)},type:"password",placeholder:"Password"}),Object(v.jsx)(g.a,{name:"password",render:function(e){return Object(v.jsx)(b.a,{variant:"danger",children:e})}})]}),Object(v.jsx)(x.a.Group,{children:Object(v.jsxs)(m.a,{md:12,children:[Object(v.jsxs)("p",{style:{color:"black",fontFamily:"serif"},children:[" You don't have an account? Please ",Object(v.jsx)(j.b,{eventKey:2,as:j.b,to:"/signup",children:"Register"})]}),Object(v.jsx)(u.a,{style:{marginLeft:"150px"},onClick:function(t){return t.preventDefault(),void p.a.post("".concat(o,"/api/user/login"),y).then((function(t){var a=t.data.token;t.data.msg,a?(localStorage.setItem("jwtToken",a),e.loginCallback(),s(!1)):(k(!1),setTimeout((function(){k(!0)}),5e3))}))},variant:"secondary",children:"Login"})]})})]})})})}),Object(v.jsx)(_.a.Footer,{children:Object(v.jsx)(u.a,{variant:"secondary",onClick:I,children:"Close"})})]})})]})})};a(262),a(263);var ae=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!1),s=Object(r.a)(i,2),l=s[0],o=s[1],b=Object(c.useState)({currentUser:null,isLoggedIn:!1}),h=Object(r.a)(b,2),m=h[0],x=h[1],O=function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=Object(I.a)(e,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SECRET_KEY).user;x({currentUser:t,isLoggedIn:!0})}else x({currentUser:null,isLoggedIn:!1});o(!0)};return console.log("The current User is: ",m.currentUser,"data loading",l),Object(c.useEffect)(O,[]),Object(v.jsx)("div",{className:"App",children:l&&Object(v.jsxs)(j.a,{children:[Object(v.jsx)(te,{loginCallback:O,auth:m}),Object(v.jsx)(d.a,{exact:!0,path:"/",children:Object(v.jsx)(E,{})}),Object(v.jsx)(d.a,{exact:!0,path:"/signup",children:Object(v.jsx)(N,{})}),Object(v.jsx)(d.a,{exact:!0,path:"/new-facility",children:Object(v.jsx)(S,{setAuth:x,auth:m})}),Object(v.jsx)(d.a,{exact:!0,path:"/login",children:Object(v.jsx)(k,{})}),Object(v.jsx)(d.a,{exact:!0,path:"/facilities/:id",children:Object(v.jsx)(J,{auth:m,selectFacility:a})}),Object(v.jsx)(d.a,{exact:!0,path:"/facilities",children:Object(v.jsx)(L,{setSelectFacility:n})}),Object(v.jsx)(d.a,{exact:!0,path:"/my-page",children:Object(v.jsx)(R,{auth:m})}),Object(v.jsx)(d.a,{exact:!0,path:"/manage-brand",children:Object(v.jsx)(M,{auth:m})}),Object(v.jsx)(d.a,{path:"/admin",children:Object(v.jsx)(Q,{auth:m})})]})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,277)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(ae,{})}),document.getElementById("root")),ce()}},[[264,1,2]]]);
//# sourceMappingURL=main.e60eb19e.chunk.js.map